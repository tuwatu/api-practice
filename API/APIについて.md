# Go勉強
## APIの大分類
### ユーザー管理まわり
アプリの「人」を管理する機能です。

- ユーザー登録
- ログイン
- ログアウト
- パスワード変更
- パスワード再発行
- メール認証（メールアドレスが本物か確認する）
- プロフィール取得・更新
- 権限管理（管理者・一般ユーザーなど）

---

### お金・契約まわり
ビジネスで一番シビアな領域です。

- 決済
- 定期課金（サブスクリプション（毎月自動で支払う仕組み））
- 返金処理
- 請求書発行
- 支払い履歴取得
- クーポン・割引
- 売上集計

---

### データ管理（CRUD系）
業務アプリで必ず出てきます。

- CRUD（作成・取得・更新・削除）
- データ登録
- 一覧取得
- 詳細取得
- 編集
- 削除
- 検索
- ページング（大量データを分割表示する仕組み）
- 並び替え

---

### 通知・連携まわり
他サービスとつながる機能です。

- メール送信
- SMS送信（ショートメッセージ）
- プッシュ通知（スマホ通知）
- 外部API連携
- Webhook受信（外部から呼ばれる通知API）

---

### ファイル・メディアまわり
画像や資料を扱うときに必要です。

- ファイルアップロード
- ダウンロード
- 画像リサイズ
- 画像変換
- PDF生成

---

### システム運用まわり
安定運用のための機能です。

- ログ取得（動作記録）
- 監視API
- ヘルスチェック（正常稼働確認）
- バックアップ
- リストア（復元）

# 課題

## 目的
- 大分類APIを一通り体験したい
- 難しすぎない範囲で理解したい
- 実務の全体像を知りたい
- 手を動かして感覚を掴みたい

---

## この課題の適合度
- 難易度：★★☆☆☆（ジュニア向け）
- 実務再現度：★★★★☆（実務の型が分かる）
- 挫折リスク：低め
- 成長効率：高い

---

## 向いている人
- API開発の全体像を知りたい
- バックエンドの基礎を固めたい
- ポートフォリオの土台を作りたい

---

# 実際の課題
## STEP1：ユーザー管理
### 実装内容
- ユーザー登録API
- ログインAPI
- ログアウトAPI
- パスワード変更API
- プロフィール取得・更新API

### 目標
- ユーザー情報を保存できる
- ログイン状態を判定できる

### テストで見るところ
- 正しい入力でユーザー登録できる
- 同じメールアドレスで登録するとエラーになる
- 正しいID・パスワードでログインできる
- 間違ったパスワードではログインできない
- ログアウト後は認証が必要なAPIにアクセスできない
- パスワード変更後は新しいパスワードでログインできる
- プロフィール取得で登録した情報が取得できる
- プロフィール更新が反映される

---

## STEP2：認証・権限
### 実装内容
- トークン認証API（ログイン状態を識別する仕組み）
- 有効期限チェック
- 管理者権限チェックAPI

### 目標
- ログインしていないとアクセスできないAPIを作る
- 管理者だけ実行できる処理を作る

### テストで見るところ
- ログインするとトークンが発行される
- トークンを送らないと認証エラーになる
- 無効なトークンではアクセスできない
- 有効期限が切れたトークンではアクセスできない
- 一般ユーザーで管理者APIにアクセスするとエラーになる
- 管理者ユーザーでは管理者APIにアクセスできる

---

## STEP3：データ管理（CRUD）
### 実装内容
- 商品データ登録API
- 商品一覧取得API
- 商品詳細取得API
- 商品更新API
- 商品削除API
- 検索・並び替え・ページング

### 目標
- 基本的な業務APIを一通り作れる

### テストで見るところ
- 商品を登録すると一覧に表示される
- 商品IDを指定すると詳細が取得できる
- 商品情報を更新すると内容が反映される
- 商品を削除すると一覧・詳細から消える
- 存在しないIDを指定するとエラーになる
- 検索条件で絞り込みできる
- 並び替えの順序が正しく変わる
- ページングで取得件数が制御できる

---

## STEP4：ファイル管理
### 実装内容
- 画像アップロードAPI
- 画像URL取得API
- ファイル削除API

### 目標
- ファイルを扱えるようになる

### テストで見るところ
- ファイルをアップロードすると保存される
- 取得URLにアクセスするとファイルが表示される
- 存在しないファイルURLはエラーになる
- ファイル削除後は取得できなくなる
- ファイルサイズ制限が正しく動く

---

## STEP5：通知・外部連携
### 実装内容
- メール送信API（疑似でOK）
- Webhook受信API

### 目標
- 外部サービスと連携する形を理解する

### テストで見るところ
- メール送信APIを呼ぶと送信ログが残る
- 不正な宛先の場合はエラーになる
- Webhookにリクエストを送るとデータが保存される
- 署名チェック（リクエストの正当性確認）が動作する
- 同じWebhookを複数回送ってもデータが壊れない

---

## STEP6：お金・契約（疑似）
### 実装内容
- 注文作成API
- 支払い状態更新API
- 支払い履歴取得API
- 売上集計API

### 目標
- お金のデータ設計に慣れる

### テストで見るところ
- 注文作成で注文データが保存される
- 初期ステータスが「未払い」になる
- 支払い更新で「支払い済み」に変更される
- 同じ注文を二重に支払い処理できない
- 支払い履歴が正しく取得できる
- 売上集計の合計金額が正しい
- 不正な金額指定はエラーになる

---

## STEP7：運用
### 実装内容
- ヘルスチェックAPI
- ログ出力
- 簡易バックアップAPI

### 目標
- 運用を意識した設計に触れる

### テストで見るところ
- ヘルスチェックAPIが正常ステータスを返す
- サーバーエラー時にログが出力される
- ログにリクエスト情報が残る
- バックアップを実行するとデータが保存される
- バックアップからデータを復元できる
- 復元後もAPIが正常に動作する

- 運用を意識した設計に触れる

# 課題のクリア判定
## 流れ
実装する
→ APIを呼ぶ
→ 期待したレスポンス（返り値）が返る
→ データが正しく保存・更新されている
→ エラー時も正しく動く
→ クリア

## 具体的な方法
HTTPクライアント(ツール)としてPostmanを使用
- 確認する内容
  - ステータスコード（通信結果の番号）
  - レスポンスJSON（返ってくるデータ）
  - データ保存結果
  - エラー時の挙動

## 【APIクリア条件テンプレート】
1. 正常系
- 正しいリクエストを送る
- ステータスコードが想定通り
- レスポンス内容が仕様通り
- データが正しく保存・更新されている

2. 異常系
- 不正な値を送る
- ステータスコードがエラーになる
- エラーメッセージが返る
- データが壊れていない

3. 再実行
- 同じリクエストを複数回送っても壊れない

# スケジュール

⏱️ 合計：80〜120時間くらい
（1日2時間なら：1.5〜2.5か月）
【STEP1：ユーザー管理】
目安：15〜20時間
【STEP2：認証・権限】
目安：10〜15時間
【STEP3：CRUD】
目安：15〜20時間
【STEP4：ファイル管理】
目安：8〜12時間
【STEP5：通知・連携】
目安：6〜10時間
【STEP6：疑似決済】
目安：10〜15時間
【STEP7：運用】
目安：5〜8時間

事前に必要なもの
設計
DB

main.exe起動
  ↓
HTTPサーバー立ち上げ
  ↓
APIリクエストを受ける
  ↓
JSONファイルを読み書き
  - users.json
  - products.json
  - orders.json
  - logs.json
  ↓
レスポンスを返す
JSONは「データの永続化が必要なところ」で使う

# 実際に進めるとき
これ参考になるよ
https://zenn.dev/91works/articles/163832be78e638?
utm_source=chatgpt.com
プロジェクトの作成、エントリポイントとか何とか
ステップ

プロジェクトフォルダを作る

myapi/


Goモジュールを初期化する

cd myapi
go mod init myapi


これで go.mod が作られる

依存ライブラリの管理ができるようになる

基本的なフォルダ構造を作る（例）

myapi/
 ├─ main.go           ← エントリポイント（exeを作る）
 ├─ handler/          ← APIごとの処理
 ├─ model/            ← データ構造（JSONや構造体）
 ├─ storage/          ← JSONファイルの読み書き
 └─ util/             ← 共通処理（ログやユーティリティ）
# 